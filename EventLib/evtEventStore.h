#pragma once

/*==============================================================================
Provides global storage for the event table and the alarm table.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "evtEventDefs.h"
#include "evtEventTable.h"
#include "evtAlarmList.h"
#include "evtFileWriter.h"

namespace Evt
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This is a class that provides for global storage of the event table and
// the alarm table.

class EventStore
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Array of event table records.
   EventTable mEventTable;

   // List of event table record event ids that are type2 and have
   // cstate true. This is the active alarm list.
   AlarmList mAlarmList;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   EventStore();
   void reset();

   // Initialize all records.
   void initialize();
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Global singular instance.

#ifdef _EVENTSTORE_CPP_
EventStore gEventStore;
#else
extern   EventStore gEventStore;
#endif

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace


